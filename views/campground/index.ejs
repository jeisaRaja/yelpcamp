<% layout('layouts/boilerplate') %>
    <h1>Campgrounds</h1>
    <hr class="">
    <% if(currUser){ %>
        <a class="nav-link btn btn-dark text-white col-md-2 mb-4" href="/campground/new">Add new camp</a>
    <% } %>
    <link rel="stylesheet" href="/stylesheet/star.css">  
    <% if(searchTerm){ %>
        <div class="mb-2">results for "<%= searchTerm  %>"</div>
    <% } else { %>
    <% } %>
    <% for(let camp of campground){ %>
        <div class="card mb-3 campCard">
            <div class="row">
                <div class="col-md-4">
                    <img alt="image" class="img-fluid" src="<%=camp.images[0].m_thumbnail%>">
                </div>
                <div class="col-md-8">
                    <div class="card-body">
                        <h5><%= camp.title %> </h5>
                        <p class="truncate-overflow card-text"><%= camp.description %></p>
                        <small class="muted-text"><%= camp.location %></small>
                        </p>
                        <a href="campground/<%= camp._id %>" class="btn btn-light">View</a>
                    </div>
                </div>
            </div>
        </div>

    <% } %> 

<nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center">
        <% for(let i=1; i<=totalPage; i++){ %>
            <% if(currPage == i){ %>
                <% status = "active" %>
            <% } else { %>
            <%  status ="" %>
            <% } %>
            <li class="page-item <%=status%>"><a class="page-link" href="campground?page=<%=i%>&s=<%=searchTerm%>"><%= i %> </a></li>
        <% } %>
    </ul>
</nav>
